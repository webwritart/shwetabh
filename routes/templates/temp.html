{% extends "base.html" %}
{% block content %}
<style>
        #Progress_Status {
          width: 100%;
          background-color: #ddd;
          display: none;
        }
        #myprogressBar {
          width: 2%;
          height: 20px;
          background-color: #4CAF50;
        }
        </style>
<div class="full-page-form-container">
    <form id="upload-form" method="post" action="{{url_for('main.temp')}}" enctype="multipart/form-data">
        <p class="heading-medium">Upload blender file here </p>
        <p><input type="file" name="file" required></p>
        <p><button class="btn-1" onclick="update()" style="background:#E07A31;color:white;" type="submit">UPLOAD</button></p>
        <div id="Progress_Status">
            <div id="myprogressBar"></div>
        </div>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                  {% for category, message in messages %}
                    <div class="{{category}}">{{ message }}</div>
                  {% endfor %}
            {% endif %}
        {% endwith %}
    </form>

</div>


<script>
        function update() {
            var element = document.getElementById("myprogressBar");
            var progress = document.getElementById("Progress_Status");
            progress.style.display = "block";
            var width = 1;
            var identity = setInterval(scene, 10);
            function scene() {
            if (width >= 100) {
                clearInterval(identity);
            } else {
                width++;
                element.style.width = width + '%';
                }
            }
        }
        </script>
{% endblock %}